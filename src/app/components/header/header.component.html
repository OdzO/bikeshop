<mat-toolbar color="primary">
  <mat-toolbar-row>
    <span>Bike Shop</span>
    <span class="header-spacer"></span>
    <button mat-icon-button class="example-icon person-icon" aria-label="User profile icon" (click)="onUserIcon()">
      <mat-icon>person</mat-icon>
    </button>
    <button mat-icon-button [matMenuTriggerFor]="smallCart" class="example-icon shopping_cart-icon" aria-label="Shopping cart icon">
      <mat-icon matBadge="{{ cart.getCartCount() }}" matBadgeColor="accent">shopping_cart</mat-icon>
    </button>
    <mat-menu #smallCart="matMenu">
      <table id="smallCartTable" *ngIf="cart.getCartCount() > 0" (click)="$event.stopPropagation()" role="presentation" summary="Cart content" >
        <tr *ngFor="let p of cart.getCart()">
          <td>{{ p.name }}</td>
          <td *ngIf="!p.sale">{{ p.price | currency }}</td>
          <td *ngIf="p.sale">{{ p.price | sale : p.sale | currency }}</td>
          <td>
            <button mat-icon-button aria-label="Example icon button with a cancel icon" (click)="cart.removeFromCart(p)">
              <mat-icon>cancel</mat-icon>
            </button>
          </td>
        </tr>
        <tfoot>
          <td>Summary:</td>
          <td>{{ cart.getCartTotal() | currency }}</td>
        </tfoot>
      </table>
      <div id="smallCartButton" *ngIf="cart.getCartCount() > 0">
        <a mat-raised-button routerLink="/cart" routerLinkActive="active" ariaCurrentWhenActive="page" color="accent">
          <span>Continue purchase</span>
        </a>
      </div>
      <div>
        <p id="emptyCartMessage" *ngIf="cart.getCartCount() === 0">Your cart is empty</p>
      </div>
    </mat-menu>
  </mat-toolbar-row>

  <mat-toolbar-row style="height: 40px">
    <a mat-flat-button routerLink="/product-list" routerLinkActive="active" ariaCurrentWhenActive="page" style="background-color: transparent; color: white;">Products</a>
    <a mat-flat-button routerLink="/admin" routerLinkActive="active" ariaCurrentWhenActive="page" style="background-color: transparent; color: white;" *ngIf="auth.isUserAdmin()">Admin</a>
  </mat-toolbar-row>
</mat-toolbar>
